<!DOCTYPE html>
<html lang="en">

<head>

</head>

<body onload="ophalen()">
    <h1>Lijst van Stations in Nederland</h1>
    <select id="lijstStations"></select>
    <script>

        function ophalen() {
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    var stations = JSON.parse(this.responseText);
                    console.log(stations);
                    var lijst = document.getElementById("lijstStations");
                    for (i = 0; i < stations.payload.length; i++) {
                        if (stations.payload[i].land == "NL") {
                            //console.log(stations.payload[i].namen.lang);
                            var stationsNl = document.createElement("option");
                            stationsNl.innerHTML = stations.payload[i].namen.lang;
                            lijst.appendChild(stationsNl);

                        }
                    }
                }
            };
            xhttp.open("GET", "https://gateway.apiportal.ns.nl/public-reisinformatie/api/v2/stations", true);
            xhttp.setRequestHeader("Ocp-Apim-Subscription-Key", "e70b3b8f75a24defa264a4af5573b5a1");
            xhttp.send();
        }
    </script>
</body>

</html>